<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title id="work-title">Werkseite</title>
  <link rel="stylesheet" href="style.css">
  <script src="work.js" defer></script>
</head>
<body>
  <!-- 
    work.html – Universelle Werkseite
    =================================
    Verwendung:
    - URL-Parameter ?kind=<poesie|prosa>&author=<Autor>&work=<Werk>
    - Beispiel: work.html?kind=poesie&author=Aischylos&work=Der_gefesselte_Prometheus
    - Beispiel: work.html?kind=poesie&author=Sophokles&work=Aias
    - Beispiel: work.html?kind=prosa&author=Platon&work=Menon

    Textquellen (immer im Repo vorhanden):
    - texte/<kind>/<Autor>/<Werk>.txt                → Originaltext
    - texte/<kind>/<Autor>/<Werk>_birkenbihl.txt     → Birkenbihl-Version
    - Drafts werden direkt im Editor unten rechts bearbeitet und später zu PDFs.

    PDFs:
    - Original-PDFs: pdf/original_<kind>_pdf/<Autor>/<Werk>_...
    - Draft-PDFs:    pdf_drafts/draft_<kind>_pdf/<Autor>/<Werk>_DRAFT_LATEST_...
    (Details siehe work.js → pdfPath())
  -->

  <header>
    <h1 id="work-title">Werkseite</h1>
  </header>

  <!-- PDF-Auswahl -->
  <section id="pdf-viewer">
    <h2>PDF-Ansicht</h2>
    <div class="button-groups">
      <div class="group">
        <label><input type="radio" name="srcSel" value="original" checked> Original</label>
        <label><input type="radio" name="srcSel" value="draft"> Entwurf</label>
      </div>
      <div class="group">
        <label><input type="radio" name="strengthSel" value="NORMAL" checked> Normal</label>
        <label><input type="radio" name="strengthSel" value="GR_FETT"> Fett</label>
        <label><input type="radio" name="strengthSel" value="DE_FETT"> DE-Fett</label>
      </div>
      <div class="group">
        <label><input type="radio" name="colorSel" value="COLOUR" checked> Colour</label>
        <label><input type="radio" name="colorSel" value="BLACK_WHITE"> BlackWhite</label>
      </div>
      <div class="group">
        <label><input type="radio" name="tagSel" value="TAGS" checked> Tags</label>
        <label><input type="radio" name="tagSel" value="NO_TAGS"> NoTag</label>
      </div>
      <div class="group" id="meterRow" style="display:none">
        <label><input type="radio" name="meterSel" value="METER_ON" checked> Versmaß</label>
        <label><input type="radio" name="meterSel" value="METER_OFF"> Ohne Versmaß</label>
      </div>
    </div>
    <p id="pdfStatus" class="status">PDF-Status: ...</p>
    <iframe id="pdfFrame" src="" width="100%" height="600px"></iframe>
  </section>

  <!-- Textanzeige -->
  <section id="text-viewer">
    <h2>Texte</h2>
    <div class="text-columns">
      <!-- Original -->
      <div class="col">
        <h3>Original</h3>
        <div class="toolbar">
          <label><input type="checkbox" id="origHideTags"> Tags verstecken</label>
          <label><input type="checkbox" id="origHideColors"> Farbkürzel verstecken</label>
          <button id="origSizeMinus">-</button>
          <button id="origSizePlus">+</button>
        </div>
        <pre id="origSrc" class="src"></pre>
      </div>

      <!-- Birkenbihl -->
      <div class="col">
        <h3>Birkenbihl</h3>
        <div class="toolbar">
          <label><input type="checkbox" id="birkHideTags"> Tags verstecken</label>
          <label><input type="checkbox" id="birkHideColors"> Farbkürzel verstecken</label>
          <button id="birkSizeMinus">-</button>
          <button id="birkSizePlus">+</button>
        </div>
        <pre id="birkSrc" class="src"></pre>
      </div>

      <!-- Entwurf -->
      <div class="col">
        <h3>Entwurf</h3>
        <div class="toolbar">
          <label><input type="checkbox" id="draftHideTags"> Tags verstecken</label>
          <label><input type="checkbox" id="draftHideColors"> Farbkürzel verstecken</label>
          <button id="draftSizeMinus">-</button>
          <button id="draftSizePlus">+</button>
          <button id="resetDraftBtn">Entwurf zurücksetzen</button>
        </div>
        <textarea id="draftEditor" class="editor"></textarea>
      </div>
    </div>
    <div class="sync-option">
      <label><input type="checkbox" id="syncScroll"> Scrollen synchronisieren (Original ↔ Birkenbihl)</label>
    </div>
  </section>
</body>
</html>
